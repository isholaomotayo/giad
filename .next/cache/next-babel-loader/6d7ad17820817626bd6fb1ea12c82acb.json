{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  mutation SIGNUP_MUTATION(\\n    $email: String!\\n    $name: String!\\n    $password: String!\\n  ) {\\n    signup(email: $email, name: $name, password: $password) {\\n      id\\n      email\\n      name\\n    }\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  mutation SIGNIN_MUTATION($email: String!, $password: String!) {\\n    signin(email: $email, password: $password) {\\n      id\\n      email\\n      name\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component, useState } from 'react';\nimport { Mutation } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport Router from 'next/router';\nimport Form from './styles/Form';\nimport Error from './ErrorMessage';\nimport { CURRENT_USER_QUERY } from './User';\nimport Link from 'next/link';\nimport Box from '../reusecore/src/elements/Box';\nimport Text from '../reusecore/src/elements/Text';\nimport SectionWrapper, { ContentArea, Heading, ButtonGroup, DonationForm, DonateButton } from '../containers/Charity/DonateSection/donateSection.style';\nimport Container from '../common/src/components/UI/Container';\nimport Input from '../common/src/components/Input';\nvar SIGNIN_MUTATION = gql(_templateObject());\nvar SIGNUP_MUTATION = gql(_templateObject2());\n\nvar Signin =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Signin, _Component);\n\n  function Signin() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Signin);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Signin)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      name: '',\n      password: '',\n      email: '',\n      active: 'signin'\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"saveToState\", function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleFormData\", function (value, name) {\n      _this.setState(_objectSpread({}, _this.state, _defineProperty({}, name, value)));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDonation\", function (e) {\n      e.preventDefault();\n      console.log('Donation form data: ', state);\n    });\n\n    return _this;\n  }\n\n  _createClass(Signin, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          row = _this$props.row,\n          col = _this$props.col;\n      return __jsx(React.Fragment, null, __jsx(Mutation, {\n        mutation: SIGNIN_MUTATION,\n        variables: this.state,\n        refetchQueries: [{\n          query: CURRENT_USER_QUERY\n        }]\n      }, function (signup, _ref) {\n        var error = _ref.error,\n            loading = _ref.loading;\n        return __jsx(SectionWrapper, {\n          id: \"signup\"\n        }, __jsx(Container, {\n          width: \"1260px\"\n        }, __jsx(Box, _extends({\n          className: \"row\"\n        }, row), __jsx(Box, _extends({\n          className: \"col\"\n        }, col), __jsx(ContentArea, null, __jsx(Heading, null, \"Create an account\", ' ', __jsx(\"span\", null, \"or Sigin in with your exisiting account\")), __jsx(ButtonGroup, null, __jsx(\"div\", {\n          style: {\n            cursor: 'pointer'\n          },\n          onClick: function onClick(e) {\n            e.preventDefault;\n\n            _this2.setState({\n              active: 'signup'\n            });\n          }\n        }, __jsx(\"a\", {\n          className: \"learn__more-btn alt\"\n        }, __jsx(\"span\", {\n          className: \"hyphen\"\n        }), __jsx(\"span\", {\n          className: \"btn_text\"\n        }, \"Create an Account\"))), __jsx(Text, {\n          content: \"or\"\n        }), __jsx(\"div\", {\n          style: {\n            cursor: 'pointer'\n          },\n          onClick: function onClick(e) {\n            e.preventDefault;\n\n            _this2.setState({\n              active: 'signin'\n            });\n          }\n        }, __jsx(\"a\", {\n          className: \"learn__more-btn alt\"\n        }, __jsx(\"span\", {\n          className: \"hyphen\"\n        }), __jsx(\"span\", {\n          className: \"btn_text\"\n        }, \"Signin with your account\")))))), __jsx(Box, _extends({\n          className: \"col\"\n        }, col), __jsx(DonationForm, {\n          style: _this2.state.active === 'signin' ? {\n            display: 'block'\n          } : {\n            display: 'none'\n          },\n          method: \"post\",\n          onSubmit:\n          /*#__PURE__*/\n          function () {\n            var _ref2 = _asyncToGenerator(\n            /*#__PURE__*/\n            _regeneratorRuntime.mark(function _callee(e) {\n              return _regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      e.preventDefault();\n                      _context.next = 3;\n                      return signup();\n\n                    case 3:\n                      Router.push('/register');\n\n                      _this2.setState({\n                        name: '',\n                        email: '',\n                        password: ''\n                      });\n\n                    case 5:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }\n              }, _callee);\n            }));\n\n            return function (_x) {\n              return _ref2.apply(this, arguments);\n            };\n          }()\n        }, __jsx(\"h4\", null, \"Login to your account\"), \" \", __jsx(Error, {\n          error: error\n        }), __jsx(Input, {\n          inputType: \"email\",\n          placeholder: \"E-mail address\",\n          inputValue: _this2.state.email,\n          inputOnChange: function inputOnChange(e) {\n            return _this2.handleFormData(e.target.value, 'email');\n          }\n        }), __jsx(\"div\", null, \"\\xA0\"), __jsx(Input, {\n          inputType: \"password\",\n          placeholder: \"password\",\n          inputValue: _this2.state.password,\n          inputOnChange: function inputOnChange(e) {\n            return _this2.handleFormData(e.target.value, 'password');\n          }\n        }), __jsx(DonateButton, {\n          type: \"submit\"\n        }, \"Login \")), __jsx(Mutation, {\n          mutation: SIGNUP_MUTATION,\n          variables: _this2.state,\n          refetchQueries: [{\n            query: CURRENT_USER_QUERY\n          }]\n        }, function (signup, _ref3) {\n          var error = _ref3.error,\n              loading = _ref3.loading;\n          return __jsx(DonationForm, {\n            style: _this2.state.active === 'signup' ? {\n              display: 'block'\n            } : {\n              display: 'none'\n            },\n            method: \"post\",\n            onSubmit:\n            /*#__PURE__*/\n            function () {\n              var _ref4 = _asyncToGenerator(\n              /*#__PURE__*/\n              _regeneratorRuntime.mark(function _callee2(e) {\n                return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n                  while (1) {\n                    switch (_context2.prev = _context2.next) {\n                      case 0:\n                        e.preventDefault();\n                        _context2.next = 3;\n                        return signup();\n\n                      case 3:\n                        Router.push('/register');\n\n                        _this2.setState({\n                          name: '',\n                          email: '',\n                          password: ''\n                        });\n\n                      case 5:\n                      case \"end\":\n                        return _context2.stop();\n                    }\n                  }\n                }, _callee2);\n              }));\n\n              return function (_x2) {\n                return _ref4.apply(this, arguments);\n              };\n            }()\n          }, ' ', __jsx(\"h4\", null, \"Create a new account\"), __jsx(Error, {\n            error: error\n          }), __jsx(Input, {\n            inputType: \"name\",\n            placeholder: \"Full name\",\n            inputValue: _this2.state.name,\n            inputOnChange: function inputOnChange(e) {\n              return _this2.handleFormData(e.target.value, 'name');\n            }\n          }), __jsx(\"div\", null, \"\\xA0\"), __jsx(Input, {\n            inputType: \"email\",\n            placeholder: \"E-mail address\",\n            inputValue: _this2.state.email,\n            inputOnChange: function inputOnChange(e) {\n              return _this2.handleFormData(e.target.value, 'email');\n            }\n          }), __jsx(\"div\", null, \"\\xA0\"), __jsx(Input, {\n            inputType: \"password\",\n            placeholder: \"password\",\n            inputValue: _this2.state.password,\n            inputOnChange: function inputOnChange(e) {\n              return _this2.handleFormData(e.target.value, 'password');\n            }\n          }), __jsx(DonateButton, {\n            type: \"submit\"\n          }, \"Create Account\", ' '));\n        }), \";\"))));\n      }));\n    }\n  }]);\n\n  return Signin;\n}(Component); // DonateSection style props\n\n\n// DonateSection default style\nSignin.defaultProps = {\n  // Signin row default style\n  row: {\n    flexBox: true,\n    flexWrap: 'wrap',\n    ml: '-15px',\n    mr: '-15px'\n  },\n  // Signin col default style\n  col: {\n    width: ['100%', '50%', '50%'],\n    pl: '15px',\n    pr: '15px',\n    mb: '30px'\n  }\n};\nexport default Signin;","map":null,"metadata":{},"sourceType":"module"}